{"version":3,"sources":["../index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["select","geoNaturalEarth1","geoPath","json","feature","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"bundle.81605655.js","sourceRoot":"..","sourcesContent":["import { select, json, geoPath, geoNaturalEarth1, zoom } from 'd3';\nimport { feature } from 'topojson';\n\nconst query = `PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX dct: <http://purl.org/dc/terms/>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX edm: <http://www.europeana.eu/schemas/edm/>\nPREFIX foaf: <http://xmlns.com/foaf/0.1/>\nPREFIX hdlh: <https://hdl.handle.net/20.500.11840/termmaster>\nPREFIX wgs84: <http://www.w3.org/2003/01/geo/wgs84_pos#>\nPREFIX geo: <http://www.opengis.net/ont/geosparql#>\nPREFIX skos: <http://www.w3.org/2004/02/skos/core#>\nPREFIX gn: <http://www.geonames.org/ontology#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n# een foto per land (met type, img, lat en long van de plaats\nSELECT  (SAMPLE(?cho) AS ?cho) \n\t\t\t\t(SAMPLE(?title) AS ?title) \n        (SAMPLE(?typeLabel) AS ?type) \n        (SAMPLE(?img) AS ?img) \n        (SAMPLE(?lat) AS ?lat)\n        (SAMPLE(?long) AS ?long)\n        ?landLabel \n\nWHERE {\n  # vind alleen foto's\n  <https://hdl.handle.net/20.500.11840/termmaster1397> skos:narrower* ?type .\n  ?type skos:prefLabel ?typeLabel .   \n  ?cho edm:object ?type .\n\n  # ?cho dc:title ?title .\n  ?cho edm:isShownBy ?img .\n  ?cho dc:title ?title .\n\n  # vind bij de objecten het land\n  ?cho dct:spatial ?place .\n  ?place skos:exactMatch/gn:parentCountry ?land .\n  # ?place skos:prefLabel ?placeName .\n  ?land gn:name ?landLabel .\n  \n  # vind bij de plaats van de foto de lat/long\n  ?place skos:exactMatch/wgs84:lat ?lat .\n  ?place skos:exactMatch/wgs84:long ?long .      \n\n} GROUP BY ?landLabel\nORDER BY ?landLabel \nLIMIT 10`\n\nconst endpoint = \"https://api.data.netwerkdigitaalerfgoed.nl/datasets/ivo/NMVW/services/NMVW-06/sparql\"\n\nconst svg = select('svg')\nconst width = 200\nconst height = 200\nconst projection = geoNaturalEarth1()\nconst pathGenerator = geoPath().projection(projection)\n\n//functies setupMap() en drawMap() van Laurens\n//https://beta.vizhub.com/Razpudding/6b3c5d10edba4c86babf4b6bc204c5f0\nsetupMap()\ndrawMap()\nzoomToMap()\ndata()\n\n//Alle data functies aanroepen\n//Code van Laurens\n//https://beta.vizhub.com/Razpudding/2e039bf6e39a421180741285a8f735a3\nasync function data() {\n  let data = await loadJSONData(endpoint, query)\n  //pas werken met data wanneer data is omgezet in json\n  data = data.map(cleanData)\n  data = changeImageURL(data)\n  //code van Laurens, aangepast naar type\n  // data = transformData(data)\n  console.log(data)\n  data = plotImages(data)\n}\n\n//Code van Laurens\n//Load the data and return a promise which resolves with said data\nfunction loadJSONData(url, query){\n  return json(endpoint +\"?query=\"+ encodeURIComponent(query) + \"&format=json\")\n    .then(data => data.results.bindings)\n}\n\n//Code van Laurens\n//This function gets the nested value out of the object in each property in our data\nfunction cleanData(data){\n   let result = {}\n    Object.entries(data)\n    \t.map(([key, propValue]) => { \t\t\n\t\t\t\tresult[key] = propValue.value\n  \t})\n   return result\n}\n\n//Vervang 'http' door 'https'\nfunction changeImageURL(results){\n  results.map(result => {\n    result.img = result.img.replace('http', 'https')\n  })    \n  return results\n}\n\n// //Nest the data per type\n// function transformData(source){\n//   let transformed =  d3.nest()\n// \t\t.key(function(d) { return d.type; })\n// \t\t.entries(source);\n//   transformed.forEach(type => {\n//     type.amount = type.values.length\n//   })\n//   return transformed\n// }\n\nfunction setupMap(){\n  svg\n    .append('path')\n      .attr('class', 'sphere')\n      .attr('d', pathGenerator({ type: 'Sphere' }))\n}\n\nfunction drawMap() {\n  json('https://unpkg.com/world-atlas@1.1.4/world/110m.json').then(data => {\n    const countries = feature(data, data.objects.countries);\n    svg  \n      .selectAll('path')\n      .data(countries.features)\n      .enter()\n      .append('path')\n        .attr('class', 'country')\n        .attr('d', pathGenerator)\n  })\n}\n\nfunction zoomToMap(){\n  svg\n    .call(d3.zoom()\n      \t.extent([[0, 0], [width, height]])\n      \t.scaleExtent([1, 2])\n      \t.on(\"zoom\", zoomed));\n}\n\nfunction zoomed() {\n    svg.attr(\"transform\", d3.event.transform);\n  }\n\nfunction plotImages(dataImg) {\n    svg\n      .selectAll('imageDiv')\n      .data(dataImg)\n      .enter()\n  \t\t//dankzij hulp van Laurens\n      .append('image')\n        .attr(\"xlink:href\", d => d.img)\n        .attr('class', 'images')\n        .attr('x', function(d) {\n          return projection([d.long, d.lat])[0]\n        })\n        .attr('y', function(d) {\n          return projection([d.long, d.lat])[1]\n        })\n  \t\t\t.on(\"mouseover\", handleMouseOver)\n        // .on(\"mouseout\", handleMouseOut);\n  \treturn dataImg\n}\n\n// Create Event Handlers for mouse\n      function handleMouseOver(data) {  // Add interactivity\n\n            // Specify where to put label of text\n            svg\n            \t//.data(data)\n              .append(\"text\")\n        \t\t\t\t\t.text('test')\n        \t\t\t\t\t.attr('class', 'tekst')\n        //         \t.attr('x', function(d) {\n        //   return projection([d.long, d.lat])[0]\n        // })\n        // .attr('y', function(d) {\n        //   return projection([d.long, d.lat])[1]\n        // })\n                \n            // .text(function() {\n            //   return [d.x, d.y];  // Value of the text\n            // });\n        \t\t\t\t//console.log(text)\n            \t\t// .text(function() {\n            \t\t// return [d.x, d.y];  // Value of the text\n            \t\t// });\n          }\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}